# tdd-100days

## TDDは難しい​

今まで TDD を何度かトライして来たけど、そのすべてうまくいかなかった。

* プログラムの規模が小さいときは順調​
* プログラムの規模が大きくなるにつれて、変更できないテストが大量に出来上がる​

でも、今更、Excel にチェックリスト書いて、手でテストする日々には戻れない。。。

### TDD（というか自動テスト）の困ったところ​

* テストコードが、何のテストをしているのかわからなくなる​
  * 後から見ると、そのテストが何をテストしているのか？どいう観点のテストなのか​？がわからなくなる。
  * DB に対する操作だと、テストデータを用意するのが大変。データを用意しても、それがどういうテストをするためのデータなのか、後になるとわからなくなる。

* コードのリファクタすると、影響するテストが大量に出てくる​
  * 1メソッド直したいだけなのに、十数個のテストを修正しないと、、、​
  * だんだんリファクタする気がなくなって、コードが硬直化していく

## それでも、もう一回チャレンジしてみようかな​

きっかけは、以下の YouTube

* [​TDDオンライン勉強会 #1「ライブコーディングで体感する TDD基礎 」(講義編)​](https://www.youtube.com/watch?v=UhHdnLTxOjE​)

後、どっかの Tweet で「TDD することで、作成中のプログラムのフィードバックを早く得ることには価値がある」みたいなのみた。たしかに。

今のコーディング スタイルは、一気にドッカンとプロダクトコード書いて、そこから一気にテストコード書くんだけど、このスタイルだとコードもテストも書くのがだんだんしんどくなってきた、ってのもある。

## 何ができるようになると嬉しいのか？

一つ一つのテストが独立して理解しやすいテストコードが書けるようになる必要がある（と思う​

そのためには​以下のようなことが必要なのではないか、な？たぶん。

* テストコードが、テスト対象の仕様を表現するように記載する
* プログラムのレイヤーを分け、レイヤー間においては疎結合になるようにテストを作ることで、プログラム修正時の影響範囲を狭くする？​

まずは、この辺を意識しながら、TDD をやり直してみようかな。


​